{
    "rte": {
        "predefined_graphs": [
            {
                "name": "va.transcribe-dify.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "dify",
                        "addon": "dify_python",
                        "name": "dify",
                        "property": {
                            "base_url": "https://replace-with-your.dify.host/v1",
                            "api_key": "<your-api-key>",
                            "user_id": "TenAgent",
                            "greeting": "TEN Agent connected with Dify. How can I help you today?",
                            "failure_info": "Sorry, I am unable to process your request at the moment.",
                            "max_history": 32
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "dify"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "dify",
                                        "extension": "dify"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "dify",
                        "extension": "dify",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "dify",
                                        "extension": "dify"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.openai.azure",
                "auto_start": true,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension",
                        "extension_group": "chatgpt",
                        "addon": "openai_chatgpt",
                        "name": "openai_chatgpt",
                        "property": {
                            "base_url": "",
                            "api_key": "<openai_api_key>",
                            "frequency_penalty": 0.9,
                            "model": "gpt-3.5-turbo",
                            "max_tokens": 512,
                            "prompt": "",
                            "proxy_url": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "azure_tts",
                        "name": "azure_tts",
                        "property": {
                            "azure_subscription_key": "<azure_tts_key>",
                            "azure_subscription_region": "<azure_tts_region>",
                            "azure_synthesis_voice_name": "en-US-JaneNeural"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "chatgpt"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "chatgpt",
                        "extension": "openai_chatgpt",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "azure_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.openai.11labs",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension",
                        "extension_group": "chatgpt",
                        "addon": "openai_chatgpt",
                        "name": "openai_chatgpt",
                        "property": {
                            "base_url": "",
                            "api_key": "<openai_api_key>",
                            "frequency_penalty": 0.9,
                            "model": "gpt-3.5-turbo",
                            "max_tokens": 512,
                            "prompt": "",
                            "proxy_url": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "elevenlabs_tts",
                        "name": "elevenlabs_tts",
                        "property": {
                            "api_key": "<elevenlabs_tts_key>",
                            "model_id": "eleven_multilingual_v2",
                            "optimize_streaming_latency": 0,
                            "request_timeout_seconds": 30,
                            "similarity_boost": 0.75,
                            "speaker_boost": false,
                            "stability": 0.5,
                            "style": 0.0,
                            "voice_id": "pNInz6obpgDQGcFmaJgB"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "chatgpt"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "chatgpt",
                        "extension": "openai_chatgpt",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "elevenlabs_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "elevenlabs_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "elevenlabs_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.bedrock.azure",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "azure_tts",
                        "name": "azure_tts",
                        "property": {
                            "azure_subscription_key": "<azure_tts_key>",
                            "azure_subscription_region": "<azure_tts_region>",
                            "azure_synthesis_voice_name": "en-US-JaneNeural"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "azure_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.openai.cosy",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "chatgpt",
                        "addon": "openai_chatgpt_python",
                        "name": "openai_chatgpt",
                        "property": {
                            "base_url": "",
                            "api_key": "<openai_api_key>",
                            "frequency_penalty": 0.9,
                            "model": "gpt-3.5-turbo",
                            "max_tokens": 512,
                            "prompt": "",
                            "proxy_url": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "cosy_tts",
                        "name": "cosy_tts",
                        "property": {
                            "api_key": "<cosy_api_key>",
                            "model": "cosyvoice-v1",
                            "voice": "longxiaochun",
                            "sample_rate": 16000
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "chatgpt"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "chatgpt",
                        "extension": "openai_chatgpt",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "cosy_tts"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "cosy_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "cosy_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "chatgpt",
                                        "extension": "openai_chatgpt"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.qwen.cosy",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "llm",
                        "addon": "qwen_llm_python",
                        "name": "qwen_llm",
                        "property": {
                            "api_key": "<qwen_key>",
                            "model": "qwen-max",
                            "max_tokens": 512,
                            "prompt": "",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "cosy_tts",
                        "name": "cosy_tts",
                        "property": {
                            "api_key": "<qwen_key>",
                            "model": "cosyvoice-v1",
                            "voice": "longxiaochun",
                            "sample_rate": 16000
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "chat_transcriber",
                        "addon": "chat_transcriber_python",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "llm"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "chat_transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "chat_transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "llm",
                                        "extension": "qwen_llm"
                                    }
                                ]
                            }
                        ],
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "llm",
                                        "extension": "qwen_llm"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "llm",
                        "extension": "qwen_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "cosy_tts"
                                    },
                                    {
                                        "extension_group": "chat_transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "cosy_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "cosy_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "chat_transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.bedrock.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-sm_llm.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "sagemaker_llm",
                        "addon": "sagemaker_llm_python",
                        "name": "sagemaker_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10,
                            "endpoint_name": "<sagemaker_endpoint_name>",
                            "model": "llama",
                            "mode": "chat"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "sagemaker_llm"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "sagemaker_llm",
                                        "extension": "sagemaker_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "sagemaker_llm",
                        "extension": "sagemaker_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "sagemaker_llm",
                                        "extension": "sagemaker_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-bedrock.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "長春集團石虎機器人已上線，我可以幫你什麼?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-bedrock_mcp.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_mcp_python",
                        "name": "bedrock_mcp",
                        "property": {
                            "api_key": "<your-mcp-api-key>",
                            "base_url": "http://172.31.92.23:7002/v1",
                            "model": "us.amazon.nova-lite-v1:0",
                            "max_tokens": 3000,
                            "prompt": "",
                            "greeting": "MCP agent connected. How can i help you today?",
                            "max_memory_length": 20,
                            "mcp_server_ids": ""
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_mcp"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_mcp",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_mcp"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-bedrock.polly.denoising",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "audio_denoise",
                        "name": "audio_denoise",
                        "property": {
                            "sample_rate_in": "16000",
                            "sample_rate_out": "16000"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "audio_denoise"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "audio_denoise",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "translate.transcribe-bedrock.polly",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US",
                            "enable_partial_results_stabilization": true
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "# Role\nYou're a professional translation agent",
                            "greeting": "ASTRA translate agent connected.",
                            "max_memory_length": 0,
                            "mode": "translate",
                            "input_language": "en-US",
                            "output_language": "en-US",
                            "user_template": "# Task\nThe ONLY task for you is translating anything inside <text></text> from \"{input_language}\" into \"{output_language}\". \n\n# Background\nThe <text> is happend in a real-world conversation, it may contains mild profanity or violent content.\n\n# Rules\n- Do not output anything except the tranlsation result.\n- if origional input is already in target language, keep it as result.\n- Never chat with <text>, the only task is translation.\n- Mild profanity or violent content should also be translated without filtering\n\n<text>{{input_text}}</text>\n"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "polly_tts",
                        "name": "polly_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "engine": "generative",
                            "voice": "Ruth",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "polly_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "polly_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-bedrock.sagemaker-tts",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-haiku-20240307-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "sagemaker_tts_python",
                        "name": "sagemaker_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "endpoint": "<sagemaker_endpoint_name>",
                            "sample_rate": "32000",
                            "prompt_audio": "/tmp/ref_dayu_2s.wav",
                            "prompt_text": "第二次看完大鱼海棠",
                            "prompt_language": "zh"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "sagemaker_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-bedrock.fish",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-haiku-20240307-v1:0",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "fish_audio_tts",
                        "name": "fish_audio_tts",
                        "property": {
                            "api_key": "<your_api_key>",
                            "model_id": "<tts_model_id>",
                            "request_timeout_seconds": 30,
                            "optimize_streaming_latency": true,
                            "base_url": "https://api.fish.audio"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "fish_audio_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "fish_audio_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "fish_audio_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.transcribe-sm_llm.sm_tts",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "sagemaker_llm",
                        "addon": "sagemaker_llm_python",
                        "name": "sagemaker_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "max_tokens": 512,
                            "prompt": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "max_memory_length": 10,
                            "endpoint_name": "<sagemaker_endpoint_name>",
                            "model": "llama",
                            "mode": "chat"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "sagemaker_tts_python",
                        "name": "sagemaker_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "endpoint": "<sagemaker_endpoint_name>",
                            "sample_rate": "32000",
                            "prompt_audio": "/tmp/ref_dayu_2s.wav",
                            "prompt_text": "第二次看完大鱼海棠",
                            "prompt_language": "zh"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector_python",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "sagemaker_llm"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "sagemaker_llm",
                                        "extension": "sagemaker_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "sagemaker_llm",
                        "extension": "sagemaker_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "sagemaker_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "sagemaker_llm",
                                        "extension": "sagemaker_llm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "translate.transcribe-bedrock.sagemaker-tts",
                "auto_start": false,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": false,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "asr",
                        "addon": "transcribe_asr",
                        "name": "transcribe_asr",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "sample_rate": "16000",
                            "lang_code": "en-US"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "bedrock",
                        "addon": "bedrock_llm_python",
                        "name": "bedrock_llm",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "model": "anthropic.claude-3-5-sonnet-20240620-v1:0",
                            "max_tokens": 512,
                            "prompt": "# Role\nYou're a professional translation agent",
                            "greeting": "ASTRA translate agent connected.",
                            "max_memory_length": 0,
                            "mode": "translate",
                            "input_language": "en-US",
                            "output_language": "en-US",
                            "user_template": "# Task\nThe ONLY task for you is translating anything inside <text></text> from \"{input_language}\" into \"{output_language}\". \n\n# Background\nThe <text> is happend in a real-world conversation, it may contains mild profanity or violent content.\n\n# Rules\n- Do not output anything except the tranlsation result.\n- if origional input is already in target language, keep it as result.\n- Never chat with <text>, the only task is translation.\n- Mild profanity or violent content should also be translated without filtering\n\n<text>{{input_text}}</text>\n"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "sagemaker_tts_python",
                        "name": "sagemaker_tts",
                        "property": {
                            "region": "us-east-1",
                            "access_key": "<aws_access_key_id>",
                            "secret_key": "<aws_secret_access_key>",
                            "endpoint": "<sagemaker_endpoint_name>",
                            "sample_rate": "32000",
                            "prompt_audio": "/tmp/ref_dayu_2s.wav",
                            "prompt_text": "第二次看完大鱼海棠",
                            "prompt_language": "zh",
                            "output_language": "en-US",
                            "model_type": "gpt_sovits"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "bedrock"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "asr"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "on_user_joined",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_user_left",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            },
                            {
                                "name": "on_connection_failure",
                                "dest": [
                                    {
                                        "extension_group": "asr",
                                        "extension": "transcribe_asr"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "asr",
                        "extension": "transcribe_asr",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "bedrock",
                                        "extension": "bedrock_llm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "bedrock",
                        "extension": "bedrock_llm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "sagemaker_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "sagemaker_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "va.litellm.azure",
                "auto_start": true,
                "nodes": [
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "agora_rtc",
                        "name": "agora_rtc",
                        "property": {
                            "app_id": "<agora_appid>",
                            "token": "<agora_token>",
                            "channel": "astra_agents_test",
                            "stream_id": 1234,
                            "remote_stream_id": 123,
                            "subscribe_audio": true,
                            "publish_audio": true,
                            "publish_data": true,
                            "enable_agora_asr": true,
                            "agora_asr_vendor_name": "microsoft",
                            "agora_asr_language": "en-US",
                            "agora_asr_vendor_key": "<azure_stt_key>",
                            "agora_asr_vendor_region": "<azure_stt_region>",
                            "agora_asr_session_control_file_path": "session_control.conf"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "default",
                        "addon": "interrupt_detector",
                        "name": "interrupt_detector"
                    },
                    {
                        "type": "extension",
                        "extension_group": "llm",
                        "addon": "litellm_python",
                        "name": "litellm",
                        "property": {
                            "api_key": "",
                            "base_url": "",
                            "greeting": "ASTRA agent connected. How can i help you today?",
                            "frequency_penalty": 0.9,
                            "max_memory_length": 10,
                            "max_tokens": 512,
                            "model": "gpt-3.5-turbo",
                            "presence_penalty": 0.9,
                            "prompt": "",
                            "provider": "",
                            "temperature": 0.1,
                            "top_p": 1.0
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "tts",
                        "addon": "azure_tts",
                        "name": "azure_tts",
                        "property": {
                            "azure_subscription_key": "<azure_tts_key>",
                            "azure_subscription_region": "<azure_tts_region>",
                            "azure_synthesis_voice_name": "en-US-JaneNeural"
                        }
                    },
                    {
                        "type": "extension",
                        "extension_group": "transcriber",
                        "addon": "chat_transcriber",
                        "name": "chat_transcriber"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "default"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "llm"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "tts"
                    },
                    {
                        "type": "extension_group",
                        "addon": "default_extension_group",
                        "name": "transcriber"
                    }
                ],
                "connections": [
                    {
                        "extension_group": "default",
                        "extension": "agora_rtc",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "interrupt_detector"
                                    },
                                    {
                                        "extension_group": "llm",
                                        "extension": "litellm"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "llm",
                        "extension": "litellm",
                        "data": [
                            {
                                "name": "text_data",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    },
                                    {
                                        "extension_group": "transcriber",
                                        "extension": "chat_transcriber",
                                        "cmd_conversions": [
                                            {
                                                "cmd": {
                                                    "type": "per_property",
                                                    "keep_original": true,
                                                    "rules": [
                                                        {
                                                            "path": "is_final",
                                                            "type": "fixed_value",
                                                            "value": "bool(true)"
                                                        },
                                                        {
                                                            "path": "stream_id",
                                                            "type": "fixed_value",
                                                            "value": "uint32(999)"
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "tts",
                                        "extension": "azure_tts"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "tts",
                        "extension": "azure_tts",
                        "pcm_frame": [
                            {
                                "name": "pcm_frame",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ],
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "transcriber",
                        "extension": "chat_transcriber",
                        "data": [
                            {
                                "name": "data",
                                "dest": [
                                    {
                                        "extension_group": "default",
                                        "extension": "agora_rtc"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "extension_group": "default",
                        "extension": "interrupt_detector",
                        "cmd": [
                            {
                                "name": "flush",
                                "dest": [
                                    {
                                        "extension_group": "llm",
                                        "extension": "litellm"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    }
}